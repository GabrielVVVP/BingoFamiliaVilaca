<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo da Fam√≠lia Vila√ßa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* Modern glassy dark theme ‚Äî improved legibility and refined accents */
        :root{
            --bg: #071029; /* deep navy */
            --card-bg: rgba(255,255,255,0.03);
            --card-border: rgba(255,255,255,0.06);
            --muted: #9aa5b1;
            --accent: #f4c95d; /* warm gold */
            --accent-2: #ffd87a;
            --btn-blue: #60a5fa;
            --btn-blue-2: #3b82f6;
            --silver: #cbd5e1;
            --white: #ffffff;
        }

        /* Light theme variables */
        body.light-theme {
            --bg: #f8f9fa;
            --card-bg: rgba(59,130,246,0.02);
            --card-border: rgba(59,130,246,0.08);
            --muted: #6b7280;
            --accent: #d4a63b;
            --accent-2: #c69d2e;
            --silver: #374151;
            --white: #ffffff;
            --text-primary: #071029;
        }

        body {
            background: radial-gradient(1200px 400px at 10% 10%, rgba(255,216,135,0.03), transparent), var(--bg);
            color: var(--silver);
            font-family: 'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body.light-theme {
            background: linear-gradient(180deg, #f8f9fa 0%, #eef0f4 100%);
            color: var(--text-primary);
        }

        .main-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            backdrop-filter: blur(6px) saturate(120%);
            box-shadow: 0 10px 30px rgba(2,6,23,0.6);
        }

        body.light-theme .main-card {
            background: rgba(255,255,255,0.6);
            border: 1px solid rgba(59,130,246,0.08);
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        }

        .number-display {
            font-variant-numeric: tabular-nums;
            color: var(--white);
            letter-spacing: -1px;
        }

        body.light-theme .number-display {
            color: var(--text-primary);
        }

        .history-item {
            animation: slideIn 0.28s ease-out;
            background: #ffffff;
            border: 1px solid rgba(7,16,41,0.04);
            color: #071029;
            padding: .6rem .9rem;
            border-radius: .75rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        body.light-theme .history-item {
            background: #ffffff;
            color: var(--text-primary);
            border: 1px solid rgba(59,130,246,0.08);
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(6px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* switches */
        .switch { position: relative; display: inline-block; width: 56px; height: 30px }
        .switch input { opacity: 0; width: 0; height: 0 }
        .slider { position: absolute; cursor: pointer; inset: 0; background: rgba(255,255,255,0.06); border-radius: 999px; transition: .25s }
        .slider:before { content: ''; position: absolute; left: 4px; top: 4px; width: 22px; height: 22px; background: var(--white); border-radius: 50%; transition: .25s }
        input:checked + .slider { background: linear-gradient(90deg, rgba(244,201,93,0.15), rgba(255,216,135,0.12)) }
        input:checked + .slider:before { transform: translateX(26px) }

        body.light-theme .slider { background: rgba(59,130,246,0.1) }
        body.light-theme input:checked + .slider { background: linear-gradient(90deg, rgba(212,166,59,0.15), rgba(198,157,46,0.12)) }

        /* Buttons */
        #btn-draw {
            background: linear-gradient(90deg, rgba(244,201,93,0.12), rgba(255,216,135,0.06));
            color: var(--accent);
            border: 1px solid #f4c95d2e;
            box-shadow: 0 6px 18px rgba(2,6,23,0.6);
        }
        #btn-draw:hover { transform: translateY(-2px); background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: #071029 }

        body.light-theme #btn-draw {
            background: linear-gradient(90deg, rgba(212,166,59,0.12), rgba(198,157,46,0.06));
            color: #a08a1e;
            border: 1px solid rgba(212,166,59,0.2);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        body.light-theme #btn-draw:hover { background: linear-gradient(90deg, #d4a63b, #c69d2e); color: #ffffff }

        #btn-repeat {
            background: linear-gradient(180deg, rgba(96,165,250,0.5), rgba(59,130,246,0.12));
            border: 1px solid rgba(59,130,246,0.12);
            color: var(--white);
            transition: background .18s ease, color .18s ease, transform .12s ease;
            box-shadow: 0 6px 14px rgba(59,130,246,0.06) inset;
        }
        #btn-repeat:hover { transform: translateY(-1px); background: linear-gradient(90deg, var(--btn-blue-2), var(--btn-blue)); color: var(--white) }

        body.light-theme #btn-repeat {
            background: linear-gradient(180deg, rgba(59,130,246,0.12), rgba(59,130,246,0.08));
            border: 1px solid rgba(59,130,246,0.12);
            color: #1e3a8a;
            box-shadow: 0 4px 10px rgba(59,130,246,0.1);
        }
        body.light-theme #btn-repeat:hover { background: linear-gradient(90deg, #3b82f6, #60a5fa); color: #ffffff }

        #btn-reset {
            background: linear-gradient(180deg, rgba(96,165,250,0.5), rgba(59,130,246,0.12));
            border: 1px solid rgba(59,130,246,0.12);
            color: var(--white);
            transition: background .18s ease, color .18s ease, transform .12s ease;
        }
        #btn-reset:hover { transform: translateY(-1px); background: linear-gradient(90deg, var(--btn-blue-2), var(--btn-blue)); color: var(--white) }

        body.light-theme #btn-reset {
            background: linear-gradient(180deg, rgba(59,130,246,0.12), rgba(59,130,246,0.08));
            border: 1px solid rgba(59,130,246,0.12);
            color: #1e3a8a;
            transition: background .18s ease, color .18s ease, transform .12s ease;
        }
        body.light-theme #btn-reset:hover { background: linear-gradient(90deg, #3b82f6, #60a5fa); color: #ffffff }

        /* disabled appearance for the action buttons */
        #btn-repeat:disabled, #btn-reset:disabled {
            opacity: 0.7; caret-color: transparent; cursor: not-allowed;
            filter: grayscale(10%);
        }

        /* small helpers */
        .bg-white { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)) }
        h1 { color: var(--accent); text-shadow: 0 2px 6px rgba(0,0,0,0.6) }

        body.light-theme h1 { color: #a08a1e; text-shadow: none }

        /* labels and small controls should contrast on dark bg - use white for high contrast */
        .text-gray-600 { color: var(--white) }
        .text-gray-700 { color: var(--white) }
        .text-accent { color: var(--accent) }
        .text-gray-900 { color: var(--white) }
        .bg-red-50 { background: rgba(255,216,135,0.06); color: var(--accent) }

        body.light-theme .text-gray-600, 
        body.light-theme .text-gray-700 { color: var(--text-primary) }
        body.light-theme .text-accent { color: #a08a1e }
        body.light-theme .text-gray-900 { color: var(--text-primary) }

        /* Standalone text ‚Äî white in dark mode, dark navy in light mode */
        .standalone-text {
            color: #ffffff;
        }

        body.light-theme .standalone-text {
            color: #071029;
        }

        /* make the number badge pop */
        #label-number {
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            padding: .25rem .8rem;
            border-radius: 1rem;
            border: 1px solid rgba(255,255,255,0.03);
            display: inline-block;
        }

        /* Display panel light card to contrast with dark UI */
        .display-card {
            background: #ffffff;
            color: #071029;
            border-radius: 1.5rem;
            border: 1px solid rgba(7,16,41,0.06);
            box-shadow: 0 12px 30px rgba(2,6,23,0.15);
        }
        .display-card #label-number { color: #071029; }
        .display-card #label-letter { color: var(--accent); }

        body.light-theme .display-card {
            background: #ffffff;
            color: var(--text-primary);
            border: 1px solid rgba(59,130,246,0.08);
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        }
        body.light-theme .display-card #label-letter { color: #a08a1e }

        /* Theme toggle button */
        #theme-toggle {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 50;
            padding: .6rem 1rem;
            background: rgba(255,255,255,0.1);
            color: var(--white);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: .75rem;
            cursor: pointer;
            font-size: .9rem;
            font-weight: 600;
            transition: all .3s ease;
        }

        #theme-toggle:hover {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.2);
        }

        body.light-theme #theme-toggle {
            background: rgba(59,130,246,0.1);
            color: #1e3a8a;
            border: 1px solid rgba(59,130,246,0.1);
        }

        body.light-theme #theme-toggle:hover {
            background: rgba(59,130,246,0.15);
            border-color: rgba(59,130,246,0.2);
        }
    </style>
</head>
<body class="text-gray-800 min-h-screen flex flex-col items-center">

    <!-- Theme Toggle Button -->
    <button id="theme-toggle">üåô Dark</button>

    <!-- CABE√áALHO E FOTO DA FAM√çLIA -->
    <header class="w-full max-w-5xl px-6 pt-10 pb-6 text-center">
        <h1 class="text-5xl md:text-6xl font-black drop-shadow-sm mb-4">
            Bingo da Fam√≠lia Vila√ßa
        </h1>
        
        <!-- Espa√ßo para a Foto da Fam√≠lia (altura ajustada para comportar a imagem) -->
        <div class="flex justify-center mb-6 w-full">
            <div class="max-w-4xl relative overflow-hidden shadow-xl border-4 border-white bg-gray-200 mx-auto">
                <!-- IMPORTANTE: Substitua 'familia.jpg' pelo nome do seu arquivo de imagem na mesma pasta -->
                <img src="familia.jpg" alt="Foto da Fam√≠lia Vila√ßa" class="w-full h-auto object-contain object-center block" onerror="this.src='https://via.placeholder.com/1200x600?text=Fam√≠lia+Vila√ßa'">
            </div>
        </div>
        <p class="text-xl standalone-text italic">Todo mundo aqui ama esse bingo!</p>
    </header>

    <!-- √ÅREA PRINCIPAL -->
    <main class="w-full max-w-4xl px-4 flex flex-col items-center">
        
        <!-- Painel de Exibi√ß√£o -->
        <div id="display-panel" class="main-card display-card w-full rounded-[3rem] p-10 flex flex-col items-center justify-center relative">
            <div id="current-call" class="text-center">
                <span id="label-letter" class="text-4xl md:text-6xl font-bold block leading-none">VAMOS</span>
                <span id="label-number" class="text-[4rem] md:text-[6rem] font-black leading-none number-display">JOGAR!</span>
            </div>

            <!-- (Removido overlay de loading da IA) -->
        </div>

        <!-- CONFIGURA√á√ïES E CONTROLES -->
        <div class="w-full mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 items-center">
            
            <!-- Bot√µes Principais -->
            <div class="flex flex-col gap-4">
                <button id="btn-draw" class="text-4xl font-bold py-6 rounded-2xl transition-transform active:scale-95 shadow-sm">
                    SORTEAR N√öMEROS
                </button>
                <button id="btn-repeat" class="text-2xl font-bold py-3 rounded-2xl transition-transform active:scale-95 mt-2 shadow-sm" disabled>
                    Repetir Som
                </button>
            </div>

            <!-- Op√ß√£o de Voz (Local vs IA) -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 flex flex-col items-center">
                <span class="text-lg font-bold mb-3 text-gray-700">Configura√ß√£o de Voz</span>
                <div class="flex items-center gap-4">
                    <span class="font-medium text-gray-500">Local (WAV)</span>
                </div>
                <p class="text-xs text-gray-400 mt-4 text-center">
                    O padr√£o s√£o os seus arquivos na pasta /audio.
                </p>
                <div class="mt-4 w-full flex flex-col items-center">
                    <label class="text-sm text-gray-500 mb-2">Selecionar voz gravada</label>
                    <div class="flex gap-2 w-full">
                        <select id="voice-select" class="flex-1 rounded-md border px-3 py-2">
                            <option value="Danielle">Danielle</option>
                        </select>
                    </div>
                    <div class="text-xs text-gray-400 mt-2">Pasta atual: <span id="voice-current">Danielle</span></div>
                </div>
            </div>
        </div>

        <!-- HIST√ìRICO -->
        <div class="w-full mt-10 mb-20">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-2xl font-bold text-accent border-b-2 pb-2">N√∫meros Sorteados:</h2>
                <label class="flex items-center gap-2 text-sm standalone-text">
                    <input id="sort-numeric" type="checkbox" class="form-checkbox h-4 w-4"> Ordenar numericamente
                </label>
            </div>
            <div id="history-list" class="flex flex-wrap gap-3">
                <!-- Injetado via JS -->
            </div>
            <div class="mt-6">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="text-2xl font-bold text-accent border-b-2 pb-2">N√∫meros Remanescentes:</h2>
                    <label class="flex items-center gap-2 text-sm standalone-text">
                        <input id="toggle-remaining" type="checkbox" class="form-checkbox h-4 w-4">
                        Mostrar
                    </label>
                </div>
                <div id="remaining-list" class="flex flex-wrap gap-2"></div>
                <div class="mt-4 flex justify-center">
                    <button id="btn-reset" class="bg-gray-400 hover:bg-gray-500 text-white text-xl py-3 px-6 rounded-xl transition-all">Reiniciar</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- CONFIGURA√á√ÉO ---
        const apiKey = ""; // Chave do Gemini (vazia por padr√£o)
        const letters = ['B', 'I', 'N', 'G', 'O'];
        let pool = [];
        let drawn = [];

        // Elementos DOM
        const lblLetter = document.getElementById('label-letter');
        const lblNumber = document.getElementById('label-number');
        const btnDraw = document.getElementById('btn-draw');
        const btnReset = document.getElementById('btn-reset');
        const btnRepeat = document.getElementById('btn-repeat');
        const historyList = document.getElementById('history-list');
        const voiceSelect = document.getElementById('voice-select');
        const voiceCurrent = document.getElementById('voice-current');
        const sortNumeric = document.getElementById('sort-numeric');
        const remainingList = document.getElementById('remaining-list');
        const toggleRemaining = document.getElementById('toggle-remaining');

        // Pasta de voz selecionada (padr√£o = Danielle)
        let voiceFolder = 'Danielle';
        let lastAudioId = null;
        let currentAudio = null;
        let isPlaying = false;

        function initPool() {
            pool = [];
            for (let i = 1; i <= 75; i++) {
                const letter = letters[Math.floor((i - 1) / 15)];
                pool.push({ l: letter, n: i, id: `${letter}${i}` });
            }
        }

        // --- SISTEMA DE √ÅUDIO ---

        // 1. √Åudio Local (Seus WAVs)
        function playLocalAudio(id) {
            // N√£o inicia novo √°udio enquanto outro estiver tocando
            if (isPlaying) return;

            const folderPath = voiceFolder ? `audio/${voiceFolder}/` : 'audio/';
            const path = `${folderPath}${id}.wav`;
            const audio = new Audio(path);
            currentAudio = audio;
            isPlaying = true;
            // trava bot√µes enquanto toca
            if (btnDraw) btnDraw.disabled = true;
            if (btnRepeat) btnRepeat.disabled = true;

            audio.preload = 'auto';
            audio.play().then(() => {
                // registra o √∫ltimo √°udio reproduzido (repetir ser√° habilitado ao finalizar)
                lastAudioId = id;
            }).catch(err => {
                console.warn(`Falha ao reproduzir ${path}:`, err);
                // se falhar em iniciar, libera controles
                isPlaying = false;
                currentAudio = null;
                if (btnDraw) btnDraw.disabled = false;
                if (btnRepeat) btnRepeat.disabled = !lastAudioId;
            });

            audio.addEventListener('ended', () => {
                isPlaying = false;
                currentAudio = null;
                if (btnDraw) btnDraw.disabled = false;
                if (btnRepeat) btnRepeat.disabled = !lastAudioId;
            });

            audio.addEventListener('error', () => {
                // em caso de erro durante a reprodu√ß√£o, garante que liberamos o travamento
                isPlaying = false;
                currentAudio = null;
                if (btnDraw) btnDraw.disabled = false;
                if (btnRepeat) btnRepeat.disabled = !lastAudioId;
            });
        }

        // 2. √Åudio Gemini IA (Opcional)
        async function playAiAudio(letter, number) {
            if (!apiKey) {
                console.error("API Key do Gemini n√£o configurada.");
                playLocalAudio(`${letter}${number}`);
                return;
            }

            const prompt = `Diga de forma alegre e carinhosa para uma fam√≠lia reunida: Letra ${letter}, n√∫mero ${number}!`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: {
                            responseModalities: ["AUDIO"],
                            speechConfig: {
                                voiceConfig: {
                                    prebuiltVoiceConfig: { voiceName: "Aoede" } // Voz calorosa
                                }
                            }
                        }
                    })
                });

                const data = await response.json();
                const base64 = data.candidates[0].content.parts[0].inlineData.data;
                decodeAndPlay(base64);
            } catch (err) {
                console.error("Erro na IA, voltando para local:", err);
                playLocalAudio(`${letter}${number}`);
            }
        }

        // Auxiliar para tocar PCM do Gemini
        function decodeAndPlay(base64) {
            const binary = atob(base64);
            const bytes = new Uint8Array(binary.length);
            for (let i = 0; i < binary.length; i++) bytes[i] = binary.charCodeAt(i);
            
            // Header WAV b√°sico (24kHz Mono)
            const wavHeader = new ArrayBuffer(44);
            const view = new DataView(wavHeader);
            const writeStr = (off, s) => { for (let i = 0; i < s.length; i++) view.setUint8(off + i, s.charCodeAt(i)); };
            writeStr(0, 'RIFF'); view.setUint32(4, 36 + bytes.length, true);
            writeStr(8, 'WAVE'); writeStr(12, 'fmt ');
            view.setUint32(16, 16, true); view.setUint16(20, 1, true); view.setUint16(22, 1, true);
            view.setUint32(24, 24000, true); view.setUint32(28, 48000, true);
            view.setUint16(32, 2, true); view.setUint16(34, 16, true);
            writeStr(36, 'data'); view.setUint32(40, bytes.length, true);

            const blob = new Blob([wavHeader, bytes], { type: 'audio/wav' });
            new Audio(URL.createObjectURL(blob)).play();
        }

        // --- L√ìGICA DO JOGO ---

        function draw() {
            if (isPlaying) return; // evita sortear enquanto √°udio anterior toca

            if (pool.length === 0) {
                lblLetter.textContent = "FIM DE";
                lblNumber.textContent = "JOGO!";
                btnDraw.disabled = true;
                return;
            }

            const idx = Math.floor(Math.random() * pool.length);
            const picked = pool.splice(idx, 1)[0];
            drawn.push(picked);

            // Atualiza UI
            lblLetter.textContent = picked.l;
            lblNumber.textContent = picked.n;

            // Usa √°udio local (Gemini n√£o est√° selecion√°vel)
            playLocalAudio(picked.id);

            updateHistory();
            updateRemaining();
        }

        function updateHistory() {
            const items = drawn.slice();
            let listOrder = [];
            if (sortNumeric && sortNumeric.checked) {
                items.sort((a, b) => a.n - b.n);
                listOrder = items;
            } else {
                listOrder = items.slice().reverse();
            }

            historyList.innerHTML = listOrder.map(item => `
                <div class="history-item px-4 py-2 rounded-xl shadow-sm text-lg font-bold">
                    <span style="color:#071029; margin-right:.4rem">${item.l}</span>${item.n}
                </div>
            `).join('');
        }

        function updateRemaining() {
            const drawnSet = new Set(drawn.map(d => d.n));
            const remaining = [];
            for (let i = 1; i <= 75; i++) {
                if (!drawnSet.has(i)) remaining.push(i);
            }

            // Render com prefixo de letra (ex: B1, I27)
            remainingList.innerHTML = remaining.map(n => {
                const letter = letters[Math.floor((n - 1) / 15)];
                return `
                <div class="px-3 py-2 rounded-xl font-bold" style="background:#ffffff; color:#071029; border:1px solid rgba(7,16,41,0.04); box-shadow:0 2px 8px rgba(0,0,0,0.04)">${letter}${n}</div>
            `;
            }).join('');
        }

        btnDraw.addEventListener('click', draw);
        if (btnRepeat) {
            // bot√£o de repetir som: toca o √∫ltimo √°udio conhecido
            btnRepeat.addEventListener('click', () => {
                if (isPlaying) return; // bloqueia enquanto reproduz
                if (lastAudioId) {
                    playLocalAudio(lastAudioId);
                } else {
                    alert('Nenhum √°udio dispon√≠vel para repetir.');
                }
            });
            // desabilita por padr√£o at√© que um √°udio seja tocado
            btnRepeat.disabled = true;
        }
        btnReset.addEventListener('click', () => {
            if(confirm("Deseja reiniciar o Bingo da Fam√≠lia Vila√ßa?")) {
                initPool();
                drawn = [];
                lblLetter.textContent = "PRONTOS?";
                lblNumber.textContent = "VAMOS MAIS UMA!";
                historyList.innerHTML = "";
                // para seguran√ßa, interrompe qualquer √°udio em reprodu√ß√£o
                if (currentAudio) {
                    try { currentAudio.pause(); currentAudio.currentTime = 0; } catch (e) {}
                    currentAudio = null;
                }
                isPlaying = false;
                btnDraw.disabled = false;
                if (btnRepeat) {
                    btnRepeat.disabled = true;
                }
                lastAudioId = null;
                updateHistory();
                updateRemaining();
            }
        });

        // --- Seletor de voz gravada ---
        function setVoiceFolder(folder) {
            voiceFolder = folder || 'Danielle';
            voiceCurrent.textContent = voiceFolder;
        }

        voiceSelect.addEventListener('change', () => setVoiceFolder(voiceSelect.value));

        // Inicializa com Danielle por padr√£o
        setVoiceFolder('Danielle');

        // Atualiza hist√≥rico imediatamente ao mudar o checkbox de ordena√ß√£o
        if (sortNumeric) {
            sortNumeric.addEventListener('change', () => updateHistory());
        }

        // Toggle para mostrar/ocultar apenas a lista de remanescentes
        if (toggleRemaining && remainingList) {
            toggleRemaining.addEventListener('change', () => {
                remainingList.style.display = toggleRemaining.checked ? '' : 'none';
            });
            // estado inicial: toggle padr√£o OFF -> esconder lista
            remainingList.style.display = toggleRemaining.checked ? '' : 'none';
        }

        initPool();
        // Inicializa hist√≥rico e remanescentes
        updateHistory();
        updateRemaining();

        // --- Theme Toggle ---
        const themeToggle = document.getElementById('theme-toggle');
        const savedTheme = localStorage.getItem('theme') || 'dark';
        
        if (savedTheme === 'light') {
            document.body.classList.add('light-theme');
            themeToggle.textContent = '‚òÄÔ∏è Light';
        }

        themeToggle.addEventListener('click', () => {
            const isLight = document.body.classList.toggle('light-theme');
            const newTheme = isLight ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            themeToggle.textContent = isLight ? '‚òÄÔ∏è Light' : 'üåô Dark';
        });
    </script>
</body>
</html>